<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>执行上下文与执行上下文栈</title>
    <script type="text/javascript">
        /*
        *   变量提升与函数提升
        *       使用var关键字会将变量声明提升到作用域的最上位置，只有声明，没有赋值
        *       使用function声明定义函数，会将该函数提升到作用域的最上位置
        *       注意：
        *           先执行变量提升, 再执行函数提升
        *   执行上下文
        *       全局代码：直接写在script标签中的代码
        *       函数代码：写在函数体内部的代码
        *       全局执行上下文
        *           - 将 window确定为全局对象
        *           - 预处理全局数据
        *               var定义的变量添加为window的属性，并赋值undefined
        *               function定义的函数添加为window的方法
        *               this赋值为window
        *       函数执行上下文
        *           - 在函数执行之前，首先创建函数执行上下文对象，对函数创建初始化
        *           - 对局部数据进行数据预处理
        *               - 形参变量添加为函数执行上下文对象的属性，并赋值(实参)
        *               - arguments赋值
        *               - var定义的变量添加为函数执行上下文对象的属性，并赋值undefined
        *               - function定义的函数添加为函数执行上下文对象的方法
        *               - this赋值为调用的对象
        *   执行上下文栈：
        *       1. 在全局代码执行前, JS引擎就会创建一个栈来存储管理所有的执行上下文对象
        *       2. 在全局执行上下文(window)确定后, 将其添加到栈中(压栈)
        *       3. 在函数执行上下文创建后, 将其添加到栈中(压栈)
        *       4. 在当前函数执行完后,将栈顶的对象移除(出栈)
        *       5. 当所有的代码执行完后, 栈中只剩下window
        * */
        let a = 10;
        let bar = function (x) {
            let b = 5;
            foo(x + b);
        };
        let foo = function (y) {
            let c = 5;
            console.log(a + c + y);
        };
        bar(10)
    </script>
</head>
<body>

</body>
</html>